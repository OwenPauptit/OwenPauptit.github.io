

<canvas class="canvas" id="canvas"></canvas>

<script src="vector.js"></script>
<script src="vehicle.js"></script>

<script>

//let points = [[0, 0], [0.2, 0], [0.4, 0], [0.6, 0], [0.8, 0], [1, 0], [0.5, 0.2], [0.5, 0.4], [0.5, 0.6], [0.5, 0.8], [0.4, 0.9], [0.2, 0.92], [0.05, 0.85], [1.5, 1], [1.6, 0.8], [1.7, 0.6], [1.8, 0.4], [1.9, 0.2], [2, 0], [2.1, 0.2], [2.2, 0.4], [2.3, 0.6], [2.4, 0.8], [2.5, 1], [1.9, 0.6], [2.1, 0.6], [3.0, 1], [3.1, 0.8], [3.2, 0.6], [3.3, 0.4], [3.4, 0.2], [3.5, 0], [3.6, 0.2], [3.7, 0.4], [3.8, 0.6], [3.9, 0.8], [4.0, 1], [4.5, 1], [4.6, 0.8], [4.7, 0.6], [4.8, 0.4], [4.9, 0.2], [5, 0], [5.1, 0.2], [5.2, 0.4], [5.3, 0.6], [5.4, 0.8], [5.5, 1], [4.9, 0.6], [5.1, 0.6], [6, 1], [6.2, 1], [6.4, 1], [6.6, 1], [6.8, 0.9], [6.9, 0.75], [6.85, 0.6], [6.3, 0.5], [6.5, 0.5], [6.7, 0.5], [6.1, 0.25], [6.4, 0], [6.6, 0], [6.8, 0], [7, 0], [6.2, 0.1], [6.15, 0.4], [8.5, 0.9], [8.3, 1], [7.9, 1], [8.1, 1], [7.7, 0.9], [7.6, 0.3], [7.9, 0], [8.1, 0], [8.3, 0], [8.5, 0.1], [7.7, 0.1], [7.55, 0.5], [7.6, 0.7], [9, 0], [9, 0.2], [9, 0.4], [9, 0.6], [9, 0.8], [9, 1], [9.2, 0], [9.4, 0], [9.6, 0], [9.8, 0.1], [9.85, 0.3], [9.2, 0.6], [9.4, 0.6], [9.6, 0.6], [9.8, 0.5], [9.2, 0.7], [9.4, 0.8], [9.6, 0.9], [9.8, 1], [11, 0], [11, 0.2], [11, 0.4], [11, 0.6], [11, 0.8], [11, 1], [12, 0], [12, 0.2], [12, 0.4], [12, 0.6], [12, 0.8], [12, 1], [12.2, 0], [12.4, 0], [12.6, 0], [12.8, 0.1], [12.85, 0.3], [12.2, 0.6], [12.4, 0.6], [12.6, 0.6], [12.8, 0.5], [14, 0], [14, 0.2], [14, 0.4], [14, 0.6], [14, 0.8], [14, 1], [13.8, 1], [13.6, 1], [14.2, 1], [14.4, 1]];

/*
j = [[0, 0], [0.2, 0], [0.4, 0], [0.6, 0], [0.8, 0], [1, 0], [0.5, 0.2], [0.5, 0.4], [0.5, 0.6], [0.5, 0.8], [0.4, 0.9], [0.2, 0.92], [0.05, 0.85]]
a = [[1.5, 1], [1.6, 0.8], [1.7, 0.6], [1.8, 0.4], [1.9, 0.2], [2, 0], [2.1, 0.2], [2.2, 0.4], [2.3, 0.6], [2.4, 0.8], [2.5, 1], [1.9, 0.6], [2.1, 0.6]]
v = [[3.0, 1], [3.1, 0.8], [3.2, 0.6], [3.3, 0.4], [3.4, 0.2], [3.5, 0], [3.6, 0.2], [3.7, 0.4], [3.8, 0.6], [3.9, 0.8], [4.0, 1]]
a2 = [[4.5, 1], [4.6, 0.8], [4.7, 0.6], [4.8, 0.4], [4.9, 0.2], [5, 0], [5.1, 0.2], [5.2, 0.4], [5.3, 0.6], [5.4, 0.8], [5.5, 1], [4.9, 0.6], [5.1, 0.6]]
s = [[6, 1], [6.2, 1], [6.4, 1], [6.6, 1], [6.8, 0.9], [6.9, 0.75], [6.85, 0.6], [6.3, 0.5], [6.5, 0.5], [6.7, 0.5], [6.1, 0.25], [6.4, 0], [6.6, 0], [6.8, 0], [7, 0], [6.2, 0.1], [6.15, 0.4]]
c = [[8.5, 0.9], [8.3, 1], [7.9, 1], [8.1, 1], [7.7, 0.9], [7.6, 0.3], [7.9, 0], [8.1, 0], [8.3, 0], [8.5, 0.1], [7.7, 0.1], [7.55, 0.5], [7.6, 0.7]]
r = [[9, 0], [9, 0.2], [9, 0.4], [9, 0.6], [9, 0.8], [9, 1], [9.2, 0], [9.4, 0], [9.6, 0], [9.8, 0.1], [9.85, 0.3], [9.2, 0.6], [9.4, 0.6], [9.6, 0.6], [9.8, 0.5], [9.2, 0.7], [9.4, 0.8], [9.6, 0.9], [9.8, 1]]
i = [[11, 0], [11, 0.2], [11, 0.4], [11, 0.6], [11, 0.8], [11, 1]]
p = [[12, 0], [12, 0.2], [12, 0.4], [12, 0.6], [12, 0.8], [12, 1], [12.2, 0], [12.4, 0], [12.6, 0], [12.8, 0.1], [12.85, 0.3], [12.2, 0.6], [12.4, 0.6], [12.6, 0.6], [12.8, 0.5]]
t = [[14, 0], [14, 0.2], [14, 0.4], [14, 0.6], [14, 0.8], [14, 1], [13.8, 1], [13.6, 1], [14.2, 1], [14.4, 1]]

t and v need flipping
*/

//let points = [[0.0625, 0.16666666666666666], [0.07500000000000001, 0.16666666666666666], [0.0875, 0.16666666666666666], [0.1, 0.16666666666666666], [0.11249999999999999, 0.16666666666666666], [0.125, 0.16666666666666666], [0.09375, 0.19999999999999998], [0.09375, 0.2333333333333333], [0.09375, 0.26666666666666666], [0.09375, 0.3], [0.0875, 0.31666666666666665], [0.07500000000000001, 0.32], [0.06562499999999999, 0.30833333333333335], [0.15625, 0.3333333333333333], [0.1625, 0.3], [0.16875, 0.26666666666666666], [0.175, 0.2333333333333333], [0.18125, 0.19999999999999998], [0.1875, 0.16666666666666666], [0.19374999999999998, 0.19999999999999998], [0.2, 0.2333333333333333], [0.20625, 0.26666666666666666], [0.21250000000000002, 0.3], [0.21875, 0.3333333333333333], [0.18125, 0.26666666666666666], [0.19374999999999998, 0.26666666666666666], [0.25, 0.16666666666666666], [0.25625, 0.19999999999999998], [0.2625, 0.2333333333333333], [0.26875, 0.26666666666666666], [0.275, 0.3], [0.28125, 0.3333333333333333], [0.2875, 0.3], [0.29375, 0.26666666666666666], [0.3, 0.2333333333333333], [0.30625, 0.19999999999999998], [0.3125, 0.16666666666666666], [0.34375, 0.3333333333333333], [0.35, 0.3], [0.35625, 0.26666666666666666], [0.3625, 0.2333333333333333], [0.36875, 0.19999999999999998], [0.375, 0.16666666666666666], [0.38125, 0.19999999999999998], [0.3875, 0.2333333333333333], [0.39375, 0.26666666666666666], [0.4, 0.3], [0.40625, 0.3333333333333333], [0.36875, 0.26666666666666666], [0.38125, 0.26666666666666666], [0.4375, 0.3333333333333333], [0.44999999999999996, 0.3333333333333333], [0.4625, 0.3333333333333333], [0.475, 0.3333333333333333], [0.48750000000000004, 0.31666666666666665], [0.49375, 0.2916666666666667], [0.490625, 0.26666666666666666], [0.45625000000000004, 0.25], [0.46875, 0.25], [0.48124999999999996, 0.25], [0.44375, 0.20833333333333334], [0.4625, 0.16666666666666666], [0.475, 0.16666666666666666], [0.48750000000000004, 0.16666666666666666], [0.5, 0.16666666666666666], [0.44999999999999996, 0.18333333333333335], [0.446875, 0.2333333333333333], [0.59375, 0.31666666666666665], [0.58125, 0.3333333333333333], [0.55625, 0.3333333333333333], [0.56875, 0.3333333333333333], [0.54375, 0.31666666666666665], [0.5375, 0.21666666666666667], [0.55625, 0.16666666666666666], [0.56875, 0.16666666666666666], [0.58125, 0.16666666666666666], [0.59375, 0.18333333333333335], [0.54375, 0.18333333333333335], [0.534375, 0.25], [0.5375, 0.2833333333333333], [0.625, 0.16666666666666666], [0.625, 0.19999999999999998], [0.625, 0.2333333333333333], [0.625, 0.26666666666666666], [0.625, 0.3], [0.625, 0.3333333333333333], [0.6375, 0.16666666666666666], [0.65, 0.16666666666666666], [0.6625, 0.16666666666666666], [0.675, 0.18333333333333335], [0.678125, 0.21666666666666667], [0.6375, 0.26666666666666666], [0.65, 0.26666666666666666], [0.6625, 0.26666666666666666], [0.675, 0.25], [0.6375, 0.2833333333333333], [0.65, 0.3], [0.6625, 0.31666666666666665], [0.675, 0.3333333333333333], [0.75, 0.16666666666666666], [0.75, 0.19999999999999998], [0.75, 0.2333333333333333], [0.75, 0.26666666666666666], [0.75, 0.3], [0.75, 0.3333333333333333], [0.8125, 0.16666666666666666], [0.8125, 0.19999999999999998], [0.8125, 0.2333333333333333], [0.8125, 0.26666666666666666], [0.8125, 0.3], [0.8125, 0.3333333333333333], [0.825, 0.16666666666666666], [0.8375, 0.16666666666666666], [0.85, 0.16666666666666666], [0.8625, 0.18333333333333335], [0.865625, 0.21666666666666667], [0.825, 0.26666666666666666], [0.8375, 0.26666666666666666], [0.85, 0.26666666666666666], [0.8625, 0.25], [0.9375, 0.3333333333333333], [0.9375, 0.3], [0.9375, 0.26666666666666666], [0.9375, 0.2333333333333333], [0.9375, 0.19999999999999998], [0.9375, 0.16666666666666666], [0.925, 0.16666666666666666], [0.9125, 0.16666666666666666], [0.95, 0.16666666666666666], [0.9624999999999999, 0.16666666666666666]];

let J = [[0.0625, 0.16666666666666666], [0.07500000000000001, 0.16666666666666666], [0.0875, 0.16666666666666666], [0.1, 0.16666666666666666], [0.11249999999999999, 0.16666666666666666], [0.125, 0.16666666666666666], [0.09375, 0.19999999999999998], [0.09375, 0.2333333333333333], [0.09375, 0.26666666666666666], [0.09375, 0.3], [0.0875, 0.31666666666666665], [0.07500000000000001, 0.32],[0.06562499999999999, 0.30833333333333335]];
let A = [[0.15625, 0.3333333333333333], [0.1625, 0.3], [0.16875, 0.26666666666666666], [0.175, 0.2333333333333333], [0.18125, 0.19999999999999998], [0.1875, 0.16666666666666666], [0.19374999999999998, 0.19999999999999998], [0.2, 0.2333333333333333], [0.20625, 0.26666666666666666], [0.21250000000000002, 0.3], [0.21875, 0.3333333333333333], [0.18125, 0.26666666666666666],[0.19374999999999998, 0.26666666666666666]];
let V = [[0.25, 0.16666666666666666], [0.25625, 0.19999999999999998], [0.2625, 0.2333333333333333], [0.26875, 0.26666666666666666], [0.275, 0.3], [0.28125, 0.3333333333333333], [0.2875, 0.3], [0.29375, 0.26666666666666666], [0.3, 0.2333333333333333], [0.30625, 0.19999999999999998],[0.3125, 0.16666666666666666]];
let A2 = [[0.34375, 0.3333333333333333], [0.35, 0.3], [0.35625, 0.26666666666666666], [0.3625, 0.2333333333333333], [0.36875, 0.19999999999999998], [0.375, 0.16666666666666666], [0.38125, 0.19999999999999998], [0.3875, 0.2333333333333333], [0.39375, 0.26666666666666666], [0.4, 0.3], [0.40625, 0.3333333333333333], [0.36875, 0.26666666666666666],[0.38125, 0.26666666666666666]];
let S = [[0.4375, 0.3333333333333333], [0.44999999999999996, 0.3333333333333333], [0.4625, 0.3333333333333333], [0.475, 0.3333333333333333], [0.48750000000000004, 0.31666666666666665], [0.49375, 0.2916666666666667], [0.490625, 0.26666666666666666], [0.45625000000000004, 0.25], [0.46875, 0.25], [0.48124999999999996, 0.25], [0.44375, 0.20833333333333334], [0.4625, 0.16666666666666666], [0.475, 0.16666666666666666], [0.48750000000000004, 0.16666666666666666], [0.5, 0.16666666666666666], [0.44999999999999996, 0.18333333333333335],[0.446875, 0.2333333333333333]];
let S2 = [[0.44999999999999996, 0.3333333333333333], [0.4625, 0.3333333333333333], [0.475, 0.3333333333333333], [0.48750000000000004, 0.31666666666666665], [0.49375, 0.2916666666666667], [0.490625, 0.26666666666666666], [0.45625000000000004, 0.25], [0.46875, 0.25], [0.48124999999999996, 0.25], [0.44375, 0.20833333333333334], [0.4625, 0.16666666666666666], [0.475, 0.16666666666666666], [0.48750000000000004, 0.16666666666666666], [0.44999999999999996, 0.18333333333333335],[0.446875, 0.2333333333333333]];
let C = [[0.59375, 0.31666666666666665], [0.58125, 0.3333333333333333], [0.55625, 0.3333333333333333], [0.56875, 0.3333333333333333], [0.54375, 0.31666666666666665], [0.5375, 0.21666666666666667], [0.55625, 0.16666666666666666], [0.56875, 0.16666666666666666], [0.58125, 0.16666666666666666], [0.59375, 0.18333333333333335], [0.54375, 0.18333333333333335], [0.534375, 0.25],[0.5375, 0.2833333333333333]];
let R = [[0.625, 0.16666666666666666], [0.625, 0.19999999999999998], [0.625, 0.2333333333333333], [0.625, 0.26666666666666666], [0.625, 0.3], [0.625, 0.3333333333333333], [0.6375, 0.16666666666666666], [0.65, 0.16666666666666666], [0.6625, 0.16666666666666666], [0.675, 0.18333333333333335], [0.678125, 0.21666666666666667], [0.6375, 0.26666666666666666], [0.65, 0.26666666666666666], [0.6625, 0.26666666666666666], [0.675, 0.25], [0.6375, 0.2833333333333333], [0.65, 0.3], [0.6625, 0.31666666666666665],[0.675, 0.3333333333333333]];
let I = [[0.7375, 0.3333333333333333],[0.7625, 0.3333333333333333],[0.7375, 0.16666666666666666],[0.7625, 0.16666666666666666],[0.75, 0.16666666666666666], [0.75, 0.19999999999999998], [0.75, 0.2333333333333333], [0.75, 0.26666666666666666], [0.75, 0.3],[0.75, 0.3333333333333333]];
let P = [ [0.8125, 0.16666666666666666], [0.8125, 0.19999999999999998], [0.8125, 0.2333333333333333], [0.8125, 0.26666666666666666], [0.8125, 0.3], [0.8125, 0.3333333333333333], [0.825, 0.16666666666666666], [0.8375, 0.16666666666666666], [0.85, 0.16666666666666666], [0.8625, 0.18333333333333335], [0.865625, 0.21666666666666667], [0.825, 0.26666666666666666], [0.8375, 0.26666666666666666], [0.85, 0.26666666666666666],[0.8625, 0.25]];
let T = [[0.9375, 0.3333333333333333], [0.9375, 0.3], [0.9375, 0.26666666666666666], [0.9375, 0.2333333333333333], [0.9375, 0.19999999999999998], [0.9375, 0.16666666666666666], [0.925, 0.16666666666666666], [0.9125, 0.16666666666666666], [0.95, 0.16666666666666666],[0.9624999999999999, 0.16666666666666666]]


let points = [].concat(J,A,V,A2,S2,C,R,I,P,T);

let m;
let targets = [];
let vehicles = [];

window.onload = function (){

        let letters = [J,A,V,A2,S2,C,R,I,P,T]
        var prev_max = 0;
        var space = 0.025;
        for (var i = 0; i < letters.length; i++)
        {
            var min = letters[i][0][0];
            for (var j = 0; j < letters[i].length; j++){
                if (letters[i][j][0] < min){
                    min = letters[i][j][0];
                }
            }
            for (var j = 0; j < letters[i].length; j++){
                var offset = space;
                if (i > 0 && i < 4){
                    offset /= 2;
                }
                letters[i][j][0] += prev_max + offset - min;
            }

            var max = 0;
            for (var j = 0; j < letters[i].length; j++){
                if (letters[i][j][0] > max){
                    max = letters[i][j][0];
                }
            }

            prev_max = max;
            
        }

        points = [];
        for (var i = 0; i < letters.length; i++){
            points = points.concat(letters[i]);
        }



        canvas = document.getElementById("canvas");
        ctx = canvas.getContext("2d");
        document.addEventListener("mousemove",mouseMove)
        canvas.width = window.innerWidth * 0.98;
        canvas.height = window.innerHeight * 0.7;

        m = new Vector(0,0);


        for (var i = 0; i < points.length; i++)
        {
            targets.push(new Vector(points[i][0]*window.innerWidth,points[i][1]*window.innerHeight));
            //console.log(targets[i].x,targets[i].y);

            vehicles.push(new Vehicle(Math.random()*canvas.width,Math.random()*canvas.height));
        }
        var loop = setInterval(gameLoop, 1000/80);
    }

   function mouseMove(e)
   {
       m.x = e.clientX;
       m.y = e.clientY;
   }

    function gameLoop()
    {
        draw();
        for(var i = 0; i < vehicles.length; i++)
        {
            vehicles[i].Update();
            vehicles[i].Seek(targets[i]);
            vehicles[i].Repel(m)
            vehicles[i].Draw(ctx);
        }
    }

    function draw()
    {
        ctx.fillStyle = "#242526";
        ctx.fillRect(0,0,canvas.width, canvas.height);

        

        /*ctx.fillStyle = "grey";
        ctx.beginPath();
        ctx.arc(t.x,t.y,20,0,2*Math.PI,true);
        ctx.fill();*/
    }


</script>